{"ast":null,"code":"import _slicedToArray from\"F:\\\\Personal Projects\\\\ReactJS+Python Soduko\\\\Main Project\\\\Sudoku-Deploy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import fire from'./fire';import LoginWindow from'./LoginWindow';import{Redirect}from'react-router-dom';import LoginData from'../../Assets/LoginData.json';var LoginHandling=function LoginHandling(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),passwordConf=_useState8[0],setPasswordConf=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordConfError=_useState10[0],setPasswordConfError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),userNameError=_useState12[0],setuserNameError=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),passwordError=_useState14[0],setPasswordError=_useState14[1];var clearInputs=function clearInputs(){setUsername('');setPassword('');};var clearErrors=function clearErrors(){setuserNameError('');setPasswordError('');};var loginHandler=function loginHandler(){clearErrors('');for(var i=0;i<LoginData.length;i++){if(username==LoginData[i][\"username\"]&&password==LoginData[i][\"password\"]){console.log(\"Logged In\");}}// fire\n//     .auth()\n//     .signInWithEmailAndPassword(username+\"@sudokureact.com\", password)\n//     .catch(err => {\n//         switch (err.code) {\n//                 case \"auth/invalid\":\n//                 case \"auth/user-disabled\":\n//                 case \"auth/user-not-found\":\n//                 setuserNameError(err.message);\n//                 break;\n//             case \"auth/wrong-password\":\n//                 setPasswordError(err.message);\n//                 break;\n//         }\n//     })\n};var signupHandler=function signupHandler(){clearErrors();if(password==passwordConf){fire.auth().createUserWithEmailAndPassword(username+\"@sudokureact.com\",password).then(function(cred){return fire.firestore().collection('users-history').doc(username).set({highScore:0});},function(err){switch(err.code){case\"auth/email-already-in-use\":case\"auth/invalid-user\":setuserNameError(err.message);break;case\"auth/weak-password\":setPasswordError(err.message);break;}});}else{setPasswordConfError('Please make sure both passwords match');}};var logOutHandler=function logOutHandler(){fire.auth().signOut();};var authListener=function authListener(){fire.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);}else{setUser('');}});};useEffect(function(){authListener();},[]);return/*#__PURE__*/React.createElement(\"div\",null,user?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(LoginWindow,{username:username,setUsername:setUsername,password:password,setPassword:setPassword,setPasswordConf:setPasswordConf,loginHandler:loginHandler,signupHandler:signupHandler,userNameError:userNameError,passwordError:passwordError,passwordConfError:passwordConfError}));};export default LoginHandling;","map":{"version":3,"sources":["F:/Personal Projects/ReactJS+Python Soduko/Main Project/Sudoku-Deploy/src/components/Login/LoginHandling.js"],"names":["React","useState","useEffect","fire","LoginWindow","Redirect","LoginData","LoginHandling","user","setUser","username","setUsername","password","setPassword","passwordConf","setPasswordConf","passwordConfError","setPasswordConfError","userNameError","setuserNameError","passwordError","setPasswordError","clearInputs","clearErrors","loginHandler","i","length","console","log","signupHandler","auth","createUserWithEmailAndPassword","then","cred","firestore","collection","doc","set","highScore","err","code","message","logOutHandler","signOut","authListener","onAuthStateChanged"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport fire from './fire';\r\nimport LoginWindow from './LoginWindow';\r\nimport { Redirect } from 'react-router-dom';\r\nimport LoginData from '../../Assets/LoginData.json'\r\n\r\n\r\nconst LoginHandling = () => {\r\n    const [user, setUser] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordConf, setPasswordConf] = useState('');\r\n    const [passwordConfError, setPasswordConfError] = useState('');\r\n    const [userNameError, setuserNameError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const clearInputs = () => {\r\n        setUsername('');\r\n        setPassword('');\r\n    }\r\n    const clearErrors = () => {\r\n        setuserNameError('');\r\n        setPasswordError('');\r\n    }\r\n    const loginHandler = () => {\r\n        clearErrors('');\r\n        for(let i = 0;i<LoginData.length;i++){\r\n            if(username == LoginData[i][\"username\"] \r\n            && password == LoginData[i][\"password\"]){\r\n                console.log(\"Logged In\")\r\n            }\r\n        }\r\n        \r\n        // fire\r\n        //     .auth()\r\n        //     .signInWithEmailAndPassword(username+\"@sudokureact.com\", password)\r\n        //     .catch(err => {\r\n        //         switch (err.code) {\r\n        //                 case \"auth/invalid\":\r\n        //                 case \"auth/user-disabled\":\r\n        //                 case \"auth/user-not-found\":\r\n        //                 setuserNameError(err.message);\r\n        //                 break;\r\n        //             case \"auth/wrong-password\":\r\n        //                 setPasswordError(err.message);\r\n        //                 break;\r\n        //         }\r\n        //     })\r\n    }\r\n\r\n    const signupHandler = () => {\r\n        clearErrors();\r\n        if(password == passwordConf){\r\n            fire\r\n                .auth()\r\n                .createUserWithEmailAndPassword(username+\"@sudokureact.com\", password)\r\n                .then(cred => {\r\n                    return fire.firestore().collection('users-history').doc(username).set({highScore:0})\r\n                },err=>{\r\n                    switch (err.code) {\r\n                        case \"auth/email-already-in-use\":\r\n                        case \"auth/invalid-user\":\r\n                            setuserNameError(err.message);\r\n                            break;\r\n                        case \"auth/weak-password\":\r\n                            setPasswordError(err.message);\r\n                            break;                       \r\n                    }\r\n                })\r\n            }\r\n        else{\r\n            setPasswordConfError('Please make sure both passwords match')\r\n        }\r\n    }\r\n    const logOutHandler = () => {\r\n        fire.auth().signOut();\r\n    }\r\n    const authListener = () => {\r\n        fire.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                clearInputs();\r\n                setUser(user);\r\n            }\r\n            else {\r\n                setUser('');\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        authListener();\r\n    }, [])\r\n    return (\r\n        <div>\r\n            {user ?(\r\n                <Redirect to=\"/\"/>\r\n                ):(\r\n                <LoginWindow\r\n                    username={username}\r\n                    setUsername={setUsername}\r\n                    password={password}\r\n                    setPassword={setPassword}\r\n                    setPasswordConf={setPasswordConf}\r\n                    loginHandler={loginHandler}\r\n                    signupHandler={signupHandler}\r\n                    userNameError={userNameError}\r\n                    passwordError={passwordError}\r\n                    passwordConfError={passwordConfError}\r\n                />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default LoginHandling"]},"metadata":{},"sourceType":"module"}