{"ast":null,"code":"var _jsxFileName = \"F:\\\\Personal Projects\\\\ReactJS+Python Soduko\\\\Main Project\\\\Sudoku-Deploy\\\\src\\\\components\\\\Rankings\\\\Rankings.js\";\nimport React, { useEffect, useState } from 'react';\nimport classes from '../../CSS/Rankings.module.css';\nimport fire from '../Login/fire';\nimport { retreiveUser } from '../utils/requests';\nimport { getFromStorage } from '../utils/localstorage';\n\nconst Rankings = props => {\n  let playerdata = [];\n  const [rawPlayerData, setRawPlayerData] = useState([]);\n  const [playerDataState, setPlayerDataState] = useState();\n  const [LoadTemp, setLoadTemp] = useState({\n    opacity: 0,\n    trans: 0.5\n  });\n\n  const displayScores = () => {\n    let temp = rawPlayerData;\n    temp.sort((a, b) => a[1] < b[1] ? 1 : -1);\n    temp.map((list, key) => {\n      return playerdata.push( /*#__PURE__*/React.createElement(\"ul\", {\n        key: key,\n        className: classes.player,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.Rank,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 21\n        }\n      }, key + 1), /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.Name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }\n      }, list[0]), /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.Points,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 21\n        }\n      }, list[1])));\n    });\n    setPlayerDataState(playerdata);\n  };\n\n  useEffect(() => {\n    let rawPlayerData = [];\n    console.log(props.state.location); // retreiveUser()\n    // .then(res => {\n    //     console.log(res)\n    // })\n\n    fire.firestore().collection('users-history').get().then(docs => {\n      docs.forEach(doc => {\n        let name = doc.id.split('@');\n        rawPlayerData.push([name[0], doc.data().highScore]);\n      });\n      setRawPlayerData(rawPlayerData);\n    });\n    setTimeout(() => {\n      setLoadTemp({\n        opacity: 1,\n        trans: 0.5\n      });\n    }, 500);\n    setTimeout(() => {\n      setLoadTemp({\n        trans: \"none\"\n      });\n    }, 1000);\n  }, []);\n  useEffect(() => {\n    displayScores();\n  }, [rawPlayerData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.rankings,\n    style: {\n      opacity: `${LoadTemp.opacity}`,\n      transition: `${LoadTemp.trans}s`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.board,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: classes.boardsep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: classes.leftsep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: classes.rightsep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: classes.headings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: classes.rankHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"RANK\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: classes.nameHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"NAME\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: classes.pointsHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"POINTS\")), playerDataState));\n};\n\nexport default Rankings;","map":{"version":3,"sources":["F:/Personal Projects/ReactJS+Python Soduko/Main Project/Sudoku-Deploy/src/components/Rankings/Rankings.js"],"names":["React","useEffect","useState","classes","fire","retreiveUser","getFromStorage","Rankings","props","playerdata","rawPlayerData","setRawPlayerData","playerDataState","setPlayerDataState","LoadTemp","setLoadTemp","opacity","trans","displayScores","temp","sort","a","b","map","list","key","push","player","Rank","Name","Points","console","log","state","location","firestore","collection","get","then","docs","forEach","doc","name","id","split","data","highScore","setTimeout","rankings","transition","board","boardsep","leftsep","rightsep","headings","rankHeader","nameHeader","pointsHeader"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport classes from '../../CSS/Rankings.module.css';\r\nimport fire from '../Login/fire';\r\nimport { retreiveUser } from '../utils/requests';\r\nimport { getFromStorage } from '../utils/localstorage';\r\n\r\nconst Rankings = (props) => {\r\n    let playerdata = [];\r\n    const [rawPlayerData, setRawPlayerData] = useState([])\r\n    const [playerDataState, setPlayerDataState] = useState()\r\n    const [LoadTemp, setLoadTemp] = useState({ opacity: 0, trans: 0.5 })\r\n    const displayScores = () => {\r\n        let temp = rawPlayerData;\r\n        temp.sort((a, b) => (a[1] < b[1] ? 1 : -1))\r\n        temp.map((list, key) => {\r\n            return(\r\n                playerdata.push(\r\n                <ul key={key} className={classes.player}>\r\n                    <li  className={classes.Rank}>{key + 1}</li>\r\n                    <li className={classes.Name}>{list[0]}</li>\r\n                    <li className={classes.Points}>{list[1]}</li>\r\n                </ul>\r\n            )\r\n            )\r\n\r\n        })\r\n        setPlayerDataState(playerdata)\r\n    }\r\n    useEffect(() => {\r\n        let rawPlayerData = [];\r\n        console.log(props.state.location)\r\n        // retreiveUser()\r\n        // .then(res => {\r\n        //     console.log(res)\r\n        // })\r\n        fire.firestore().collection('users-history').get()\r\n            .then((docs) => {\r\n                docs.forEach(doc => {\r\n                    let name = doc.id.split('@')\r\n                    rawPlayerData.push([name[0], doc.data().highScore])\r\n                })\r\n                setRawPlayerData(rawPlayerData)\r\n            });\r\n\r\n        setTimeout(() => {\r\n            setLoadTemp({ opacity: 1, trans: 0.5 })\r\n        }, 500)\r\n        setTimeout(() => {\r\n            setLoadTemp({ trans: \"none\" })\r\n        }, 1000)\r\n\r\n    }, [])\r\n    useEffect(() => {\r\n        displayScores()\r\n    }, [rawPlayerData])\r\n    return (\r\n        <div className={classes.rankings} style={{ opacity: `${LoadTemp.opacity}`, transition: `${LoadTemp.trans}s` }}>\r\n            <div className={classes.board}>\r\n                <ul className={classes.boardsep}>\r\n                    <li className={classes.leftsep}></li>\r\n                    <li className={classes.rightsep}></li>\r\n                </ul>\r\n                <ul className={classes.headings}>\r\n                    <li className={classes.rankHeader}>RANK</li>\r\n                    <li className={classes.nameHeader}>NAME</li>\r\n                    <li className={classes.pointsHeader}>POINTS</li>\r\n                </ul>\r\n                {playerDataState}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Rankings                     "]},"metadata":{},"sourceType":"module"}